<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
						
<mapper namespace="kr.co.everyfarm.payment.PaymentDAO">

<select id="paylist" resultType="kr.co.everyfarm.payment.PaymentBean">
		<![CDATA[
		select member.m_Name,product.p_Id,product.p_No,product.p_Title,product.p_Img,payment.pay_Orderno,payment.pay_Totalprice,payment.pay_Deliverymemo,payment.pay_Date,pay_Address
		from member, product, payment where payment.pay_Id=member.m_Id and payment.pay_No=product.p_No
		]]>
</select>

<select id="bpaylist" resultType="kr.co.everyfarm.payment.BpaymentBean">
		<![CDATA[
		select b.bpay_name,product.p_Id,product.p_No,product.p_Title,product.p_Img,b.bpay_Orderno,b.bpay_Totalprice,b.bpay_Deliverymemo,b.bpay_Date
		from product, bpayment as b where b.bpay_No=product.p_No
		]]>
</select>

<!-- <select id="selectavailable" resultType="kr.co.everyfarm.product.ProductBean">
		<![CDATA[
		select p_Landavailable from product 
		]]>
</select> -->


<insert id="payinsert" parameterType="kr.co.everyfarm.payment.PaymentBean">
		<![CDATA[
		insert into payment(pay_no,pay_id,pay_land,pay_seed,pay_totalprice,pay_method,pay_deliverymemo,pay_address) 
		values(#{pay_No},#{pay_Id},#{pay_Land},#{pay_Seed},#{pay_Totalprice},#{pay_Method},#{pay_Deliverymemo},#{pay_Address})
		]]>
	</insert>
<!-- <update id="paylandupdate" parameterType="kr.co.everyfarm.product.ProductBean" >
		<![CDATA
		[
		update product set p_landavailable=#{p_Landavailable} where p_no=#{pay_No}
		]]>
</update> -->


<insert id="bpayinsert" parameterType="kr.co.everyfarm.payment.BpaymentBean">
		<![CDATA[
		insert into bpayment(bpay_name,bpay_pw,bpay_email,bpay_address,bpay_tel,bpay_no,bpay_land,bpay_seed,bpay_totalprice,bpay_deliverymemo,bpay_method) 
		values(#{bpay_Name},#{bpay_Pw},#{bpay_Email},#{bpay_Address},#{bpay_Tel},#{bpay_No},#{bpay_Land},#{bpay_Seed},#{bpay_Totalprice},#{bpay_Deliverymemo},#{bpay_Method})
		]]>
	</insert>
	

<delete id="paydelete" parameterType="int">
		<![CDATA[
		delete from payment where pay_OrderNo=#{pay_Orderno}
		]]>
</delete> 

<delete id="bpaydelete" parameterType="int">
		<![CDATA[
		delete from bpayment where bpay_OrderNo=#{bpay_Orderno}
		]]>
</delete> 


  
</mapper>