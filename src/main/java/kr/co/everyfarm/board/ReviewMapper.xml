<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.everyfarm.board.ReviewDAO">
	<select id="list" resultType="kr.co.everyfarm.board.ReviewBean">
		SELECT * FROM review
	</select>
	
	<select id="mylist" resultType="kr.co.everyfarm.board.ReviewBean">
		SELECT * FROM review WHERE rev_Id=#{m_Id}
	</select>

	<select resultType="kr.co.everyfarm.board.ReviewBean"
		id="revDetail">
		SELECT * FROM review where rev_No=#{rev_No}
	</select>

	<insert id="insert" parameterType="kr.co.everyfarm.board.ReviewBean">
		INSERT INTO review ( rev_Name, rev_Id, rev_Title, rev_Cont, rev_Rate)
		values ( #{rev_Name} ,#{rev_Id}, #{rev_Title}, #{rev_Cont}, #{rev_Rate})
	</insert>


	<!-- 삭제할때 alter table board auto_increment =1 사용 할듯. -->
	<delete id="revDelete" parameterType="int">
		DELETE FROM review WHERE rev_No=#{rev_No}
	</delete>

	<update id="ReadCount"
		parameterType="kr.co.everyfarm.board.ReviewBean">
		UPDATE review SET rev_Readcount = rev_Readcount + 1
		WHERE
		rev_No=#{rev_No}
	</update>
	
	<update id="revUpdate">
		UPDATE review SET
		rev_Title = #{rev_Title},
		rev_Cont = #{rev_Cont},
		rev_Rate =#{rev_Rate}
		WHERE rev_No=#{rev_No}
	</update>
</mapper>